--[[
    Script created by: Frazzle

    Contact: frazzle9999@gmail.com

    Note: this script is licensed under "No License", you are allowed to:

    Use and Edit the Script.

    you are not allowed to:

    Copy, re-release, re-distribute it without my written permission.
--]]
cars = {
    ["cheburek"] = 0,
    ["dominator3"] = 125680,
    ["ellie"] = 0,
    ["entity2"] = 0,
    ["fagaloa"] = 0,
    ["flashgt"] = 0,
    ["gb200"] = 0,
    ["hotring"] = 0,
    ["issi3"] = 0,
    ["jester3"] = 105000,
    ["michelli"] = 0,
    ["taipan"] = 2175000,
    ["tezeract"] = 0,
    ["tyrant"] = 0,

    ["taxi"] = 9500,
    ["towtruck"] = 15000,
    ["towtruck2"] = 7000,
    ["taco"] = 11000,
    ["tourbus"] = 13000,

    ["blista"] = 7500,
    ["brioso"] = 9000,
    ["dilettante"] = 6000,
    ["issi2"] = 7500,
    ["panto"] = 2500,
    ["prairie"] = 6000,
    ["rhapsody"] = 2500,

    ["cogcabrio"] = 218400,
    ["exemplar"] = 173000,
    ["f620"] = 85400,
    ["felon"] = 47000,
    ["felon2"] = 49000,
    ["jackal"] = 70000,
    ["oracle"] = 90000,
    ["oracle2"] = 95000,
    ["sentinel"] = 125000,
    ["sentinel2"] = 132000,
    ["windsor"] = 120000,
    ["windsor2"] = 122500,
    ["zion"] = 60000,
    ["zion2"] = 63000,

    ["ninef"] = 75000,
    ["ninef2"] = 77000,
    ["alpha"] = 35000,
    ["banshee"] = 55000,
    ["banshee2"] = 65000,
    ["bestiagts"] = 25000,
    ["buffalo"] = 32500,
    ["buffalo2"] = 44500,
    ["carbonizzare"] = 40000,
    ["raiden"] = 80000,
    ["comet2"] = 90000,
    ["comet3"] = 80000,
    ["comet4"] = 70000,
    ["comet5"] = 75000,
    ["coquette"] = 45000,
    ["tampa2"] = 75000,
    ["elegy2"] = 55000,
    ["elegy"] = 65000,
    ["feltzer2"] = 60000,
    ["furoregt"] = 62750,
    ["fusilade"] = 31500,
    ["futo"] = 17000,
    ["blista3"] = 40000,
    ["jester"] = 73000,
    ["jester2"] = 74000,
    ["khamelion"] = 81000,
    ["kuruma"] = 52500,
    ["kuruma2"] = 52500,
    ["lynx"] = 61750,
    ["massacro"] = 140000,
    ["massacro2"] = 143500,
    ["neon"] = 135000,
    ["omnis"] = 51750,
    ["pariah"] = 35750,
    ["penumbra"] = 43900,
    ["rapidgt"] = 53000,
    ["rapidgt2"] = 163000,
    ["raptor"] = 51000,
    ["revolter"] = 43000,
    ["ruston"] = 103500,
    ["schafter2"] = 78000,
    ["schafter3"] = 92000,
    ["sentinel3"] = 71000,
    ["seven70"] = 225000,
    ["specter"] = 175000,
    ["specter2"] = 210000,
    ["buffalo3"] = 49000,
    ["streiter"] = 42000,
    ["sultan"] = 28210,
    ["sultanrs"] = 38210,
    ["surano"] = 60750,
    ["tropos"] = 120000,
    ["verlierer2"] = 79150,

    ["ardent"] = 30000,
    ["casco"] = 75000,
    ["cheetah2"] = 170000,
    ["coquette2"] = 230000,
    ["btype2"] = 150000,
    ["gt500"] = 127500,
    ["infernus2"] = 220000,
    ["jb700"] = 175000,
    ["z190"] = 20000,
    ["mamba"] = 350000,
    ["manana"] = 18000,
    ["monroe"] = 45500,
    ["peyote"] = 17000,
    ["pigalle"] = 15500,
    ["rapidgt3"] = 232000,
    ["retinue"] = 21000,
    ["btype"] = 122500,
    ["btype3"] = 24500,
    ["savestra"] = 58000,
    ["stinger"] = 327000,
    ["stingergt"] = 318000,
    ["feltzer3"] = 328500,
    ["torero"] = 17500,
    ["tornado"] = 15500,
    ["tornado3"] = 9000,
    ["tornado4"] = 7500,
    ["tornado5"] = 17500,
    ["tornado6"] = 11000,
    ["turismo2"] = 292500,
    ["viseris"] = 45000,
    ["ztype"] = 44500,

    --["pfister811"] = 1350000,
    ["adder"] = 1700000,
    --["banshee2"] = 1166000,
    --["bullet"] = 1120000,
    --["cheetah"] = 1180000,
    ["cyclone"] = 2100000,
    --["entityxf"] = 1125000,
    --["sheava"] = 1145000,
    --["fmj"] = 1115000,
    --["gp1"] = 1150000,
    ["infernus"] = 1210000,
    --["italigtb"] = 1500000,
    --["italigtb2"] = 1900000,
    --["nero"] = 1300000,
    --["nero2"] = 1400000,
    --["osiris"] = 950000,
    --["autarch"] = 1300000,
    --["penetrator"] = 805000,
    --["le7b"] = 1475000,
    --["reaper"] = 725000,
    --["sc1"] = 1150000,
    --["sultanrs"] = 250000,
    ["t20"] = 1650000,
    --["tempesta"] = 945000,
    --["turismor"] = 1560000,
    --["tyrus"] = 1550000,
    ["vacca"] = 240000,
    --["vagner"] = 1005000,
    --["visione"] = 1500000,
    --["voltic"] = 545000,
    ["xa21"] = 1500000,
    --["prototipo"] = 1700000,
    ["zentorno"] = 1100000,

    ["blade"] = 12500,
    ["buccaneer"] = 11000,
    ["buccaneer2"] = 14000,
    ["stallion2"] = 0,
    ["chino"] = 10200,
    ["chino2"] = 12200,
    ["coquette3"] = 67900,
    ["dominator"] = 25680,
    ["dukes"] = 22500,
    ["dukes2"] = 0,
    ["gauntlet"] = 27290,
    ["hermes"] = 19995,
    ["hotknife"] = 60000,
    ["hustler"] = 32500,
    ["faction"] = 14995,
    ["faction2"] = 16995,
    ["faction3"] = 18995,
    ["slamvan2"] = 28500,
    ["lurcher"] = 45950,
    ["moonbeam"] = 4995,
    ["moonbeam2"] = 6995,
    ["nightshade"] = 19900,
    ["phoenix"] = 21050,
    ["picador"] = 6300,
    ["dominator2"] = 35680,
    ["ratloader"] = 5500,
    ["ratloader2"] = 5250,
    ["gauntlet2"] = 29290,
    ["ruiner"] = 14500,
    ["ruiner2"] = 0,
    ["sabregt"] = 8500,
    ["sabregt2"] = 9500,
    ["slamvan"] = 6500,
    ["slamvan3"] = 8000,
    ["stallion"] = 0,
    ["tampa"] = 21000,
    ["virgo"] = 22000,
    ["virgo2"] = 29000,
    ["virgo3"] = 31000,
    ["vigero"] = 16000,
    ["voodoo2"] = 2500,
    ["voodoo"] = 3000,
    ["yosemite"] = 12900,

    ["bifta"] = 7795,
    ["bodhi2"] = 8495,
    ["brawler"] = 100000,
    ["kamacho"] = 27945,
    ["trophytruck2"] = 187212,
    ["dubsta3"] = 450000,
    ["dune"] = 9000,
    ["dloader"] = 7000,
    ["bfinjection"] = 4000,
    ["kalahari"] = 16000,
    ["mesa3"] = 47000,
    ["nightshark"] = 0,
    ["rancherxl"] = 7000,
    ["riata"] = 10000,
    ["rebel2"] = 19000,
    ["rebel"] = 3000,
    ["sandking2"] = 21000,
    ["sandking"] = 24000,
    ["trophytruck"] = 435000,

    ["baller"] = 80000,
    ["baller2"] = 83000,
    ["baller3"] = 139000,
    ["baller4"] = 141000,
    ["bjxl"] = 26000,
    ["cavalcade"] = 18000,
    ["cavalcade2"] = 21000,
    ["contender"] = 27750,
    ["dubsta2"] = 123600,
    ["fq2"] = 17400,
    ["granger"] = 13000,
    ["gresley"] = 18000,
    ["habanero"] = 13000,
    ["huntley"] = 75000,
    ["landstalker"] = 22000,
    ["mesa"] = 24000,
    ["patriot"] = 15000,
    ["radi"] = 16570,
    ["rocoto"] = 32000,
    ["seminole"] = 24000,
    ["serrano"] = 27000,
    ["xls"] = 70150,

    ["bison"] = 32000,
    ["bobcatxl"] = 21000,
    ["burrito3"] = 14000,
    ["camper"] = 17000,
    ["gburrito2"] = 18000,
    ["journey"] = 17500,
    ["minivan"] = 28000,
    ["minivan2"] = 39000,
    ["paradise"] = 21000,
    ["rumpo"] = 15000,
    ["rumpo3"] = 19000,
    ["surfer"] = 14000,
    ["surfer2"] = 14500,
    ["youga"] = 12000,
    ["youga2"] = 14000,

    ["asea"] = 10000,
    ["asterope"] = 14000,
    ["cognoscenti"] = 120000,
    ["cog55"] = 160000,
    ["emperor"] = 6000,
    ["emperor2"] = 4000,
    ["fugitive"] = 24000,
    ["glendale"] = 21000,
    ["ingot"] = 9000,
    ["intruder"] = 15000,
    ["premier"] = 10000,
    ["primo"] = 6080,
    ["primo2"] = 10000,
    ["regina"] = 8000,
    ["romero"] = 9500,
    ["schafter2"] = 35000,
    ["stanier"] = 10000,
    ["stratum"] = 8000,
    ["stretch"] = 25000,
    ["superd"] = 155000,
    ["surge"] = 24000,
    ["tailgater"] = 18000,
    ["warrener"] = 13000,
    ["washington"] = 15000,
    
    ["akuma"] = 4500,
    ["avarus"] = 38900,
    ["bagger"] = 14500,
    ["bati"] = 25000,
    ["bati2"] = 37000,
    ["bf400"] = 6300,
    ["carbonrs"] = 11500,
    ["cliffhanger"] = 29000,
    ["daemon"] = 9500,
    ["daemon2"] = 10000,
    ["defiler"] = 11200,
    ["diablous"] = 12700,
    ["diablous2"] = 14200,
    ["double"] = 9000,
    ["enduro"] = 6500,
    ["esskey"] = 7950,
    ["faggio2"] = 2500,
    ["faggio"] = 3500,
    ["faggio3"] = 4000,
    ["fcr"] = 12500,
    ["fcr2"] = 14500,
    ["gargoyle"] = 11400,
    ["hakuchou"] = 62000,
    ["hakuchou2"] = 176000,
    ["hexer"] = 11500,
    ["innovation"] = 12000,
    ["lectro"] = 7550,
    ["manchez"] = 7000,
    ["nemesis"] = 11000,
    ["nightblade"] = 13500,
    ["pcj"] = 12000,
    ["ratbike"] = 10800,
    ["ruffian"] = 9500,
    ["sanchez"] = 7500,
    ["Sanctus"] = 55000,
    ["sovereign"] = 9500,
    ["thrust"] = 7600,
    ["vader"] = 6500,
    ["vindicator"] = 11000,
    ["vortex"] = 9250,
    ["wolfsbane"] = 4500,
    ["zombiea"] = 6500,
    ["zombieb"] = 7500,

}

RegisterServerEvent("carshop:buy")
AddEventHandler("carshop:buy",function(data)
    local source = tonumber(source)
    TriggerEvent('core:getuser', source, function(user)
        if tonumber(user.get("wallet")) >= tonumber(cars[data.model]) then
            user.removeWallet(cars[data.model])
            exports["GHMattiMySQL"]:Insert("vehicles", {
                {
                    ["character_id"] = user.get("characterID"),
                    ["garage_id"] = data.garage_id,
                    ["model"] = data.model,
                    ["name"] = data.name,
                    ["instance"] = data.instance,
                    ["state"] = data.state,
                    ["cost"] = cars[data.model]/2,
                    ["primary_colour"] = data.primary_colour,
                    ["secondary_colour"] = data.secondary_colour,
                    ["pearlescent_colour"] = data.pearlescent_colour,
                    ["wheel_colour"] = data.wheel_colour,
                    ["smoke_colour"] = json.encode(data.smoke_colour),
                    ["plate_colour"] = data.plate_colour,
                    ["neon_colour"] = json.encode(data.neon_colour),
                    ["tint_colour"] = data.tint_colour,
                    ["mod0"] = data.mod0,
                    ["mod1"] = data.mod1,
                    ["mod2"] = data.mod2,
                    ["mod3"] = data.mod3,
                    ["mod4"] = data.mod4,
                    ["mod5"] = data.mod5,
                    ["mod6"] = data.mod6,
                    ["mod7"] = data.mod7,
                    ["mod8"] = data.mod8,
                    ["mod9"] = data.mod9,
                    ["mod10"] = data.mod1,
                    ["mod11"] = data.mod11,
                    ["mod12"] = data.mod12,
                    ["mod13"] = data.mod13,
                    ["mod14"] = data.mod14,
                    ["mod15"] = data.mod15,
                    ["mod16"] = data.mod16,
                    ["mod23"] = data.mod23,
                    ["mod24"] = data.mod24,
                    ["mod25"] = data.mod25,
                    ["mod26"] = data.mod26,
                    ["mod27"] = data.mod27,
                    ["mod28"] = data.mod28,
                    ["mod29"] = data.mod29,
                    ["mod30"] = data.mod30,
                    ["mod31"] = data.mod31,
                    ["mod32"] = data.mod32,
                    ["mod33"] = data.mod33,
                    ["mod34"] = data.mod34,
                    ["mod35"] = data.mod35,
                    ["mod36"] = data.mod36,
                    ["mod37"] = data.mod37,
                    ["mod38"] = data.mod38,
                    ["mod39"] = data.mod39,
                    ["mod40"] = data.mod40,
                    ["mod41"] = data.mod41,
                    ["mod42"] = data.mod42,
                    ["mod43"] = data.mod43,
                    ["mod44"] = data.mod44,
                    ["mod45"] = data.mod45,
                    ["mod46"] = data.mod46,
                    ["mod48"] = data.mod48,
                    ["tyre_smoke"] = data.tyre_smoke,
                    ["xenon_lights"] = data.xenon_lights,
                    ["turbo"] = data.turbo,
                    ["custom_wheels"] = data.custom_wheels,
                    ["custom_wheels2"] = data.custom_wheels2,
                    ["bulletproof_wheels"] = data.bulletproof_wheels,
                    ["wheeltype"] = data.wheeltype,
                    ["neon0"] = data.neon0,
                    ["neon1"] = data.neon1,
                    ["neon2"] = data.neon2,
                    ["neon3"] = data.neon3,
                    ["engine_health"] = data.engine_health,
                    ["petrol_health"] = data.petrol_health,
                    ["vehicle_health"] = data.vehicle_health,
                    ["body_health"] = data.body_health,
                    ["insurance"] = data.insurance,
                }
            }, function(plate)
                data.cost = cars[data.model]/2
                data.plate = plate
                data.plate = string.format("%X", tostring(data.plate))
                data.plate = strpad(data.plate, 8, "0", "STR_PAD_LEFT")
                TriggerClientEvent("pNotify:SendNotification", source, {text = "Vehicle purchased!",type = "error",queue = "left",timeout = 2500,layout = "bottomCenter"})
                TriggerClientEvent("carshop:bought", source, data)
            end, true)
        elseif tonumber(user.get("bank")) >= tonumber(cars[data.model]) then
            user.removeBank(cars[data.model])
            exports["GHMattiMySQL"]:Insert("vehicles", {
                {
                    ["character_id"] = user.get("characterID"),
                    ["garage_id"] = data.garage_id,
                    ["model"] = data.model,
                    ["name"] = data.name,
                    ["instance"] = data.instance,
                    ["state"] = data.state,
                    ["cost"] = cars[data.model]/2,
                    ["primary_colour"] = data.primary_colour,
                    ["secondary_colour"] = data.secondary_colour,
                    ["pearlescent_colour"] = data.pearlescent_colour,
                    ["wheel_colour"] = data.wheel_colour,
                    ["smoke_colour"] = json.encode(data.smoke_colour),
                    ["plate_colour"] = data.plate_colour,
                    ["neon_colour"] = json.encode(data.neon_colour),
                    ["tint_colour"] = data.tint_colour,
                    ["mod0"] = data.mod0,
                    ["mod1"] = data.mod1,
                    ["mod2"] = data.mod2,
                    ["mod3"] = data.mod3,
                    ["mod4"] = data.mod4,
                    ["mod5"] = data.mod5,
                    ["mod6"] = data.mod6,
                    ["mod7"] = data.mod7,
                    ["mod8"] = data.mod8,
                    ["mod9"] = data.mod9,
                    ["mod10"] = data.mod1,
                    ["mod11"] = data.mod11,
                    ["mod12"] = data.mod12,
                    ["mod13"] = data.mod13,
                    ["mod14"] = data.mod14,
                    ["mod15"] = data.mod15,
                    ["mod16"] = data.mod16,
                    ["mod23"] = data.mod23,
                    ["mod24"] = data.mod24,
                    ["mod25"] = data.mod25,
                    ["mod26"] = data.mod26,
                    ["mod27"] = data.mod27,
                    ["mod28"] = data.mod28,
                    ["mod29"] = data.mod29,
                    ["mod30"] = data.mod30,
                    ["mod31"] = data.mod31,
                    ["mod32"] = data.mod32,
                    ["mod33"] = data.mod33,
                    ["mod34"] = data.mod34,
                    ["mod35"] = data.mod35,
                    ["mod36"] = data.mod36,
                    ["mod37"] = data.mod37,
                    ["mod38"] = data.mod38,
                    ["mod39"] = data.mod39,
                    ["mod40"] = data.mod40,
                    ["mod41"] = data.mod41,
                    ["mod42"] = data.mod42,
                    ["mod43"] = data.mod43,
                    ["mod44"] = data.mod44,
                    ["mod45"] = data.mod45,
                    ["mod46"] = data.mod46,
                    ["mod48"] = data.mod48,
                    ["tyre_smoke"] = data.tyre_smoke,
                    ["xenon_lights"] = data.xenon_lights,
                    ["turbo"] = data.turbo,
                    ["custom_wheels"] = data.custom_wheels,
                    ["custom_wheels2"] = data.custom_wheels2,
                    ["bulletproof_wheels"] = data.bulletproof_wheels,
                    ["wheeltype"] = data.wheeltype,
                    ["neon0"] = data.neon0,
                    ["neon1"] = data.neon1,
                    ["neon2"] = data.neon2,
                    ["neon3"] = data.neon3,
                    ["engine_health"] = data.engine_health,
                    ["petrol_health"] = data.petrol_health,
                    ["vehicle_health"] = data.vehicle_health,
                    ["body_health"] = data.body_health,
                    ["insurance"] = data.insurance,
                }
            }, function(plate)
                data.cost = cars[data.model]/2
                data.plate = plate
                data.plate = string.format("%X", tostring(data.plate))
                data.plate = strpad(data.plate, 8, "0", "STR_PAD_LEFT")
                TriggerClientEvent("pNotify:SendNotification", source, {text = "Vehicle purchased!",type = "error",queue = "left",timeout = 2500,layout = "bottomCenter"})
                TriggerClientEvent("carshop:bought", source, data)
            end, true)
        else
            TriggerClientEvent("pNotify:SendNotification", source, {text = "Insufficient funds!",type = "error",queue = "left",timeout = 2500,layout = "bottomCenter"})
        end
    end)
end)